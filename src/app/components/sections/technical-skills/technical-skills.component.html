<section>
  <h2>Технические навыки</h2>

  <div class="skills-group" *ngFor="let category of techSkillCategories">
    <ng-container [ngSwitch]="category">
      <h3 *ngSwitchCase="0">Языки программирования</h3>
      <h3 *ngSwitchCase="1">Создание интерфейсов</h3>
      <h3 *ngSwitchCase="2">Вёрстка</h3>
      <h3 *ngSwitchCase="3">Тестирование</h3>
      <h3 *ngSwitchCase="4">Оптимизация</h3>
      <h3 *ngSwitchCase="5">Серверная часть</h3>
      <h3 *ngSwitchCase="6">Редакторы</h3>
      <h3 *ngSwitchCase="7">Дизайн</h3>
      <h3 *ngSwitchCase="8">Продвижение</h3>
    </ng-container>

    <div class="skills-list">
      <ng-container *ngFor="let skill of skills; let i = index">
        <div class="skill" *ngIf="skill.type.includes(+category)">
          <div class="image">
            <img [src]="skill.image" [alt]="skill.name" />
          </div>

          <div class="content">
            <h4>{{ skill.name }}</h4>

            <div class="rate" *ngIf="skill.knowledgeRating !== null">
              <span
                *ngFor="let rateUnit of [].constructor(10); let i = index"
                [class.active]="i < skill.knowledgeRating"
              ></span>
            </div>

            <div class="experience">
              Опыт: {{ skill.experienceInYears }}
              {{
                skill.experienceInYears === 0
                  ? 'нет'
                  : skill.experienceInYears === 1
                  ? 'год'
                  : skill.experienceInYears <= 4
                  ? 'года'
                  : 'лет'
              }}
            </div>

            <div class="last-use" *ngIf="skill.lastUse !== null">
              {{
                skill.lastUse === 'now'
                  ? 'Используется в текущих проектах'
                  : 'Последнее использование: ' +
                    (skill.lastUse | date: 'MMM y')
              }}
            </div>

            <div class="certificates" *ngIf="skill.certificates">
              <ng-container *ngFor="let certificate of skill.certificates">
                <a [href]="certificate.link" target="_blank">{{
                  certificate.name.ru
                }}</a>
              </ng-container>
            </div>

            <div class="comment" *ngIf="skill.comment">
              {{ skill.comment.ru }}
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</section>
